{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} obj .\n * @returns {boolean} .\n * @hidden\n */\nexport function isEmptyObject(obj) {\n    if (isNullOrUndefined(obj) || typeof obj !== 'object') {\n        return false;\n    }\n    return Object.keys(obj).length === 0;\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            this.constructDataSource(data);\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData = {};\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        this.updateExpandStateMappingValue(ganttData, data);\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - 1;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && duration)) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    taskData.push(this.setSegmentTaskData(segment, segments[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    TaskProcessor.prototype.fetchResources = function (ganttData) {\n        if ((this.parent.editModule && this.parent.editModule.dialogModule &&\n            (this.parent.editModule.dialogModule['isFromAddDialog'] || this.parent.editModule.dialogModule['isFromEditDialog']))) {\n            return this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            return ganttData.ganttProperties.resourceInfo;\n        }\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = this.fetchResources(ganttData);\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : 0);\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                !isNullOrUndefined(this.parent.taskFields.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                !isNullOrUndefined(this.parent.taskFields.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            this.parent.setRecordValue('durationUnit', this.parent.durationUnit, ganttProperties, true);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.work === 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        if (!ganttData.hasChildRecords) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        var ganttRecord = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (this.parent.taskFields.duration && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.parent.isInDst(sDate) || this.parent.isInDst(eDate)) {\n                    var timeDifference = this.getTimeDifference(sDate, eDate, true);\n                    var totalWidth = (timeDifference / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var sOffset = sDate.getTimezoneOffset();\n                    var eOffset = eDate.getTimezoneOffset();\n                    var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n                    if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                        tierMode = topTier['unit'];\n                        countValue = topTier['count'];\n                    }\n                    var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n                    if (unitHour && sOffset !== eOffset && sOffset > eOffset) {\n                        totalWidth = totalWidth - (this.parent.perDayWidth / 24);\n                    }\n                    return totalWidth;\n                }\n                else {\n                    return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findLastSunday(year, month) {\n            var lastDayOfMonth = new Date(Date.UTC(year, month + 1, 0)); // Last day of the month\n            var lastSunday = new Date(Date.UTC(year, month, lastDayOfMonth.getUTCDate() - lastDayOfMonth.getUTCDay()));\n            return lastSunday;\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formattedDate = formatter.format(date);\n            var _a = formattedDate.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findLastSunday(year, 2);\n        var dstEndDate = findLastSunday(year, 9);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var january = new Date(year, 0, 1);\n        var july = new Date(year, 6, 1);\n        var janOffset = january.getTimezoneOffset();\n        var julOffset = july.getTimezoneOffset();\n        // If the offsets are different, it means there is a DST transition\n        return janOffset !== julOffset;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var countValue = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'].count :\n            zoomOrTimeline['topTier'].count;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        var isValid = true;\n        if ((this.parent.editModule && ((this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditAction) || (this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isEdit']) ||\n            (this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit) ||\n            this.parent.ganttChartModule.scrollObject['isSetScrollLeft'])) && !isFromTimelineVirtulization) {\n            isValid = false;\n        }\n        if (this.parent.enableTimelineVirtualization && isValid && !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            if (hasDST) {\n                transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            }\n            if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n                var newTimelineStartDate = void 0;\n                if (this.parent.isInDst(date)) {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n                }\n                else {\n                    newTimelineStartDate = new Date(timelineStartDate.getTime());\n                }\n                leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                }\n            }\n            var timelineStartTime = timelineStartDate.getTime();\n            var dstStartTime = void 0;\n            if (transitions && transitions['dstStart']) {\n                dstStartTime = transitions['dstStart'].getTime();\n            }\n            var isBeforeOrAtDSTStart = timelineStartTime <= dstStartTime;\n            if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n                if ((leftValue % this.parent.perDayWidth) !== 0) {\n                    var leftDifference = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n                    leftValue = leftValue + leftDifference;\n                }\n            }\n            var topTier = this.parent.timelineModule.customTimelineSettings.topTier;\n            if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n                tierMode = topTier['unit'];\n                countValue = topTier['count'];\n            }\n            var unitHour = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            var pervYear = startDate.getFullYear() - 1;\n            var isprevYearTransitions = false;\n            if (timelineStartDate.getFullYear() <= pervYear) {\n                if (timelineStartDate.getFullYear() < pervYear) {\n                    isprevYearTransitions = true;\n                }\n                else {\n                    var pervDSTTransitions = this.getDSTTransitions(timelineStartDate.getFullYear(), this.systemTimeZone);\n                    if (startDate >= pervDSTTransitions['dstStart']) {\n                        isprevYearTransitions = true;\n                    }\n                }\n            }\n            var isHourly = this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour';\n            var isDaily = this.parent.timelineModule.topTier === 'Day' || this.parent.timelineModule.bottomTier === 'Day';\n            var isStartDateInDst = this.parent.isInDst(startDate);\n            var isTimelineStartDateInDst = this.parent.isInDst(timelineStartDate);\n            var perHourWidth = this.parent.perDayWidth / 24;\n            if (!isStartDateInDst && isTimelineStartDateInDst) {\n                if ((countValue !== 1 && isHourly) || (countValue === 1 && isDaily)) {\n                    leftValue -= perHourWidth;\n                }\n            }\n            if (hasDST && unitHour && ((startDate >= transitions['dstStart']) || isprevYearTransitions) && !this.parent.enableTimelineVirtualization) {\n                if (countValue === 1) {\n                    var projectStartDate = new Date(this.parent.projectStartDate);\n                    var projectEndDate = new Date(this.parent.projectEndDate);\n                    var yearsCount_1 = [];\n                    for (var year = projectStartDate.getFullYear(); year <= projectEndDate.getFullYear(); year++) {\n                        yearsCount_1.push(year);\n                    }\n                    var findYearIndex = function (year) {\n                        return yearsCount_1.indexOf(year);\n                    };\n                    var index = findYearIndex(startDate.getFullYear());\n                    if (index !== -1) {\n                        if ((startDate > transitions['dstEnd']) || index === 0) {\n                            index += 1;\n                        }\n                        leftValue -= index * (this.parent.perDayWidth / 24);\n                    }\n                }\n            }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            return (stDate.getTime() - segmentTaskStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                if (ganttData.taskData[this.parent.taskFields.resourceInfo] &&\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0]) {\n                    ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                        ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                }\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        for (var count = 1; count < tasks.length; count++) {\n            currentTask = tasks[count];\n            var cStartDate = void 0;\n            var cEndDate = void 0;\n            if (currentTask.ganttProperties.startDate) {\n                cStartDate = new Date(currentTask.ganttProperties.startDate.getTime());\n            }\n            if (currentTask.ganttProperties.endDate) {\n                cEndDate = new Date(currentTask.ganttProperties.endDate.getTime()); //task 2\n            }\n            var range = [];\n            // eslint-disable-next-line\n            var rangeObj = {};\n            for (var index = 0; index < count; index++) {\n                var tStartDate = tasks[index].ganttProperties.startDate;\n                var tEndDate = tasks[index].ganttProperties.endDate; // task 1\n                var rangeObj_1 = {};\n                if (cStartDate && cEndDate && tEndDate\n                    && (this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                        || this._isInEndDateRange(cEndDate, tStartDate, tEndDate))) {\n                    if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                        && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                        || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                        rangeObj_1.from = tStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = tEndDate;\n                    }\n                    else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                        rangeObj_1.from = cStartDate;\n                        rangeObj_1.to = cEndDate;\n                    }\n                    range.push(rangeObj_1);\n                }\n            }\n            // eslint-disable-next-line\n            ranges.push.apply(ranges, this.mergeRangeCollections(range));\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        var flatData = this.parent.flatData;\n        var length = flatData.length;\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            this.updateTaskLeftWidth(data);\n        }\n    };\n    TaskProcessor.prototype.shouldProcessUpdateWidth = function () {\n        return (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                Boolean(this.parent.taskFields.hasChildMapping)));\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data) {\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || this.shouldProcessUpdateWidth()) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var parentItem = data.parentItem ? this.parent.getParentTask(data.parentItem) : null;\n        var isLastChild = parentItem && parentItem.childRecords.slice(-1)[0] === data;\n        if (parentItem) {\n            if (isLastChild && !data.hasChildRecords && this.parent.enableValidation) {\n                if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                    this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                    this.updateParentItems(parentItem);\n                }\n                if (this.shouldProcessUpdateWidth()) {\n                    this.updateWidthLeft(parentItem);\n                }\n            }\n            else if (parentItem && !this.parent.enableValidation) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var progressValues = {};\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    if (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) {\n                        return true;\n                    }\n                    return false;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_6 = function (count) {\n                    childData_1 = (this_4.parent.loadChildOnDemand && this_4.parent.taskFields.hasChildMapping) ?\n                        this_4.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_4.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_4.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_4.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_4.isFromManual(childData_1)) {\n                        var ganttRec = this_4.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_4.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_4.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.endDate : this_4.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isNullOrUndefined(minStartDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) &&\n                        ((isChildBoth && !isUnscheduled) || (isNullOrUndefined(isChildBoth)))) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_4.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_4.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_4.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_4.getDateFromFormat(startDate);\n                    }\n                    var condition = (!childData_1.ganttProperties.isMilestone &&\n                        isScheduledTask(childData_1.ganttProperties)) ? true : false;\n                    if (condition) {\n                        progressValues = this_4.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        if (childData_1[this_4.parent.taskFields.duration] < 1) {\n                            totalDuration += getValue('totalDuration', progressValues);\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                        else {\n                            totalDuration += getValue('totalDuration', progressValues);\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_4 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_6(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = void 0;\n                    if (this.parent.isOnDelete && childData_1.isDelete) {\n                        taskCount = childLength - milestoneCount - 1;\n                    }\n                    else {\n                        taskCount = childLength - milestoneCount;\n                    }\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData[this.parent.taskFields.manual] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction']) {\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    /*get height for range bar*/\n    GanttChart.prototype.getRangeHeight = function (data) {\n        if (!data.expanded && data.hasChildRecords) {\n            return (this.parent.rowHeight - Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight)));\n        }\n        return (data.childRecords.length * this.parent.rowHeight) -\n            Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight));\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            topValue = !currentRecord.expanded ? this.parent.getRowByIndex(rowIndex).offsetTop :\n                this.parent.getRowByIndex(rowIndex).offsetTop + this.parent.rowHeight;\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar && !this.isCollapseAll) {\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing && !this.parent.isAdaptive) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n        EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[next.getAttribute('data-colindex')];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[next.getAttribute('data-colindex')].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('data-colindex'), 10);\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[nextElement.getAttribute('data-colindex')].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('data-rowindex'), 10) !== 0 &&\n                            parseInt(next.getAttribute('data-colindex'), 10) === 0 &&\n                            this.parent.ganttColumns[next.getAttribute('data-colindex')].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('data-rowindex'), 10)];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing ||\n                                this.parent.ganttColumns[next.getAttribute('data-colindex')].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[next.getAttribute('data-colindex')].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.performedTimeSpanAction = false;\n        this.isZoomedToFit = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = this.isZoomedToFit = false;\n        this.updateUndoRedo(isZoomIn);\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (this.parent.zoomingProjectStartDate) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = this.getZoomLevel(currentZoomingLevel, isZoomIn);\n        this.updateToolbar(currentLevel, isZoomIn);\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (!args.cancel) {\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    Timeline.prototype.updateUndoRedo = function (isZoomIn) {\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {\n                action: action,\n                previousZoomingLevel: extend({}, {}, this.parent.currentZoomingLevel, true)\n            };\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n    };\n    Timeline.prototype.getZoomLevel = function (currentZoomingLevel, isZoomIn) {\n        var levelChange = isZoomIn ? 1 : -1;\n        var level = currentZoomingLevel + levelChange;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        return foundLevel ? level : currentZoomingLevel;\n    };\n    Timeline.prototype.updateToolbar = function (currentLevel, isZoomIn) {\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        this.changeTimelineSettings(newTimeline);\n        this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n        }\n        return dateString;\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        do {\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n            scheduleDateCollection.push(new Date(startDate.toString()));\n            if (isFirstCell && mode === 'Month') {\n                newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n            }\n            else {\n                increment = Math.abs(this.getIncrement(startDate, count, mode));\n                newTime = startDate.getTime() + increment;\n            }\n            var dubStartDate = new Date(startDate.getTime());\n            isFirstCell = false;\n            startDate.setTime(newTime);\n            var dubStartHour = dubStartDate.getHours();\n            var startHour = startDate.getHours();\n            var difference = startHour - dubStartHour;\n            if (difference !== count && difference > 1) {\n                if ((!this.parent.isInDst(startDate) && this.parent.isInDst(dubStartDate)) ||\n                    (this.parent.isInDst(startDate) && !this.parent.isInDst(dubStartDate))) {\n                    if (startDate.getTimezoneOffset() > dubStartDate.getTimezoneOffset()) {\n                        startDate.setTime(startDate.getTime() - ((1000 * 60 * 60) * (difference - count)));\n                    }\n                }\n            }\n            if (startDate.getHours() === 5 && count === 2 && tier === 'bottomTier' &&\n                parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n            }\n            if (startDate.getHours() === 8 && count === 12 && tier === 'bottomTier' &&\n                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n                startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 8));\n            }\n            if (startDate >= endDate) {\n                /* eslint-disable-next-line */\n                parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n            }\n            parentTh.appendChild(parentTr);\n            var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n            timelineCell.endDate = new Date(startDate.getTime());\n            if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                if (tier === 'topTier') {\n                    this.pdfExportTopTierCollection.push(timelineCell);\n                }\n                else {\n                    this.pdfExportBottomTierCollection.push(timelineCell);\n                }\n            }\n            else {\n                tierCollection.push(timelineCell);\n            }\n            width += timelineCell.width;\n            this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            var contentWidth = contentElement['offsetWidth'];\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                widthDiff = Math.round(widthDiff / perDayWidth);\n                endDate.setDate(endDate.getDate() + widthDiff);\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} isFirstCell .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        switch (mode) {\n            case 'Year':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24);\n                break;\n            case 'Month':\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                increment = lastDay.getTime() - firstDay.getTime();\n                break;\n            case 'Week':\n                {\n                    var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                    var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                        (6 - startDate.getDay()) + dayIndex;\n                    count = dayIntervel > 0 ? count - 1 : 0;\n                    lastDay.setHours(24, 0, 0, 0);\n                    dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                        dayIntervel - 1 : dayIntervel : dayIntervel;\n                    lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                    increment = lastDay.getTime() - firstDay.getTime();\n                    break;\n                }\n            case 'Day':\n                lastDay.setHours(24, 0, 0, 0);\n                if (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 6) {\n                    if (((lastDay.getHours() - firstDay.getHours()) === -2)) {\n                        // Reducing 2-hrs to match one day for firstDay:\n                        firstDay.setTime(firstDay.getTime() - (2 * 3600000));\n                    }\n                    if (this.parent.isInDst(firstDay)) {\n                        // Reducing 2-hrs to match one day for firstDay and 1-hr for DST handle:\n                        firstDay.setTime(firstDay.getTime() - (3 * 3600000));\n                    }\n                }\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n            case 'Hour':\n                {\n                    lastDay.setMinutes(60);\n                    lastDay.setSeconds(0);\n                    increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                    var date = new Date(lastDay);\n                    date.setTime(date.getTime() + increment);\n                    if (isFirstCell && count === 12) {\n                        if (firstDay.getHours() !== 0) {\n                            date.setHours(0, 0, 0, 0);\n                            increment = date.getTime() - firstDay.getTime();\n                        }\n                    }\n                    // if (isFirstCell && count === 6) {\n                    //     if (firstDay.getHours() !== 0) {\n                    //         date.setHours(6, 0, 0, 0);\n                    //         increment = date.getTime() - firstDay.getTime();\n                    //     }\n                    // }\n                    increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                    break;\n                }\n            case 'Minutes':\n                lastDay.setSeconds(60);\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                increment = this.checkDate(firstDay, lastDay, increment, count, mode);\n                break;\n        }\n        return increment;\n    };\n    Timeline.prototype.checkDate = function (firstDay, lastDay, increment, count, mode) {\n        var date = new Date(firstDay.getTime());\n        date.setTime(date.getTime() + increment);\n        if (mode === 'Day' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60 * 24);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Hour' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        else if (mode === 'Minutes' && count !== 1 && ((date.getTime() - lastDay.getTime()) / (1000 * 60)) !== count && (firstDay.getTimezoneOffset() !== date.getTimezoneOffset())) {\n            var diffCount = count - (date.getTime() - lastDay.getTime()) / (1000 * 60);\n            if (!this.parent.isInDst(date)) {\n                increment += (1000 * 60 * 60 * diffCount);\n            }\n            else if (this.parent.isInDst(date) && count !== 2 && count !== 15 && count !== 60) {\n                increment -= (1000 * 60 * 60 * diffCount);\n            }\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(scheduleWeeks, { format: this.parent.getDateFormat() }) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter);\n        thWidth = Math.abs((this.getIncrement(scheduleWeeks, count, mode, isFirstCell) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var incrementValue = this.getIncrement(scheduleWeeks, count, mode);\n        var newDate = new Date(scheduleWeeks.getTime() + incrementValue);\n        var dubNewDate = new Date(scheduleWeeks.getTime() + ((60 * 60 * 1000) * count));\n        var newDateOffset = newDate.getTime();\n        var dubNewDateOffset = dubNewDate.getTime();\n        var timelineStartDate = this.parent.timelineModule.timelineStartDate;\n        var timelineStartTime = timelineStartDate.getTime();\n        var hasDST = this.parent.dataOperation.hasDSTTransition(scheduleWeeks.getFullYear());\n        var timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var transitions;\n        var dstStartTime;\n        if (hasDST) {\n            transitions = this.parent.dataOperation.getDSTTransitions(scheduleWeeks.getFullYear(), timeZone);\n            dstStartTime = transitions['dstStart'].getTime();\n        }\n        if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks)) ||\n            (this.parent.isInDst(newDate) && !this.parent.isInDst(scheduleWeeks)) ||\n            (newDateOffset !== dubNewDateOffset && hasDST && dubNewDateOffset > newDateOffset &&\n                timelineStartTime <= dstStartTime)) {\n            var temp = void 0;\n            var totalHour = 0;\n            var incrementHour = incrementValue / (1000 * 60 * 60);\n            if ((!this.parent.isInDst(newDate) && this.parent.isInDst(scheduleWeeks))) {\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && totalHour !== 0 && incrementHour > totalHour) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) - ((1000 * 60 * 60) * (incrementHour - totalHour));\n                    thWidth = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    if (thWidth === 0 && mode === 'Minutes') {\n                        var perMinuteWidth = this.parent.perDayWidth / 1440;\n                        thWidth = perMinuteWidth * count;\n                    }\n                }\n            }\n            else {\n                var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n                var bottomTierSettings = zoomOrTimeline['bottomTier'] !== null ? zoomOrTimeline['bottomTier'] :\n                    zoomOrTimeline['topTier'];\n                var bottomTierCountIsOneAndUnitIsHour = ((bottomTierSettings['count'] === 1 && bottomTierSettings['unit'] === 'Hour') ||\n                    (bottomTierSettings['count'] === 60 && bottomTierSettings['unit'] === 'Minutes'));\n                totalHour = this.calculateTotalHours(mode, count);\n                if (incrementHour !== totalHour && incrementHour < totalHour && !(tier === 'topTier' && bottomTierCountIsOneAndUnitIsHour)) {\n                    temp = this.getIncrement(scheduleWeeks, count, mode) + (1000 * 60 * 60);\n                    var value_1 = (temp / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n                    var tierWidth = tier === 'topTier' ? this.topTierCellWidth : this.bottomTierCellWidth;\n                    if (tierWidth >= value_1) {\n                        thWidth = value_1;\n                        if (thWidth === 0 && mode === 'Minutes') {\n                            var perMinuteWidth = this.parent.perDayWidth / 1440;\n                            thWidth = perMinuteWidth * count;\n                        }\n                    }\n                }\n            }\n        }\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? (this.parent.isInDst(this.timelineRoundOffEndDate)\n                ? thWidth\n                : this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate))\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, scheduleWeeks) :\n            this.customFormat(scheduleWeeks, format, tier, mode, formatter));\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var balanceDay = (timeDifference / (1000 * 60 * 60 * 24));\n        return balanceDay * this.parent.perDayWidth;\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3 || (isNullOrUndefined(this.parent.projectStartDate) && isNullOrUndefined(this.parent.projectEndDate)))) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired, isEmptyObject } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        if (!this.treeGridElement.contains(this.parent.treeGrid.element)) {\n            this.parent.treeGrid.appendTo(this.treeGridElement);\n        }\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var _a;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n        }\n        else if (getValue('type', args) === 'save') {\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                if (isEmptyObject(this.currentEditRow) && args['column'] && args['column'].edit && args['column'].field === this.parent.taskFields.resourceInfo) {\n                    var field = this.parent.taskFields.resourceInfo;\n                    this.currentEditRow = (_a = {}, _a[field] = data['resources'], _a);\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id]) &&\n                        ((_this.parent.viewType === 'ResourceView' &&\n                            data['ganttProperties'].rowUniqueID === _this.parent.currentSelection.rowUniqueID) ||\n                            _this.parent.viewType !== 'ResourceView')) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        if (getValue('requestType', args) === 'refresh') {\n            this.parent.initiateEditAction(false);\n        }\n        this.parent.trigger('actionComplete', updatedArgs);\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;>' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' + 'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0]) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        table.innerHTML = '<tr class=\"' + this.getRowClassName(this.templateData) + ' ' + cls.chartRow + ' ' + (activecls) + '\"' +\n            'style=\"display:' + this.getExpandDisplayProp(this.templateData) + ';height:' +\n            this.parent.rowHeight + 'px;\">' +\n            '<td class=\"' + cls.chartRowCell + ' ' + className\n            + '\"style=\"width:' + this.parent.timelineModule.totalTimelineWidth + 'px;\"></td></tr>';\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = createElement('div');\n        div.innerHTML = template;\n        return div.childNodes;\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('data-rowindex', index.toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('data-rowindex'), 10));\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n            tRow.setAttribute('data-rowindex', index.toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data).childNodes[0], tr.childNodes[0]);\n                    if (this.parent.enableMultiTaskbar && data.parentItem) {\n                        var parentID = data.parentItem.taskId;\n                        var parentData = this.parent.getRecordByID(parentID);\n                        if (!parentData.expanded) {\n                            var parentTr = this.parent.getRowByID(parentID);\n                            parentTr.replaceChild(this.getGanttChartRow(Number(parentID), parentData).childNodes[0], parentTr.childNodes[0]);\n                        }\n                    }\n                }\n            }\n            this.parent.renderTemplates();\n            if (data.hasChildRecords && this.parent.showOverAllocation && this.parent.allowTaskbarOverlap) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    this.parent.dataOperation.updateOverlappingValues(data);\n                    this.parent.ganttChartModule.renderRangeContainer([data]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data);\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data.ganttProperties.taskId : data.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data);\n            }\n            if (data.hasChildRecords && !data.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[tr.getAttribute('data-rowindex')].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        var length = predecessorTasks.length - 1;\n        for (var count = length; count >= 0; count--) {\n            var ganttData = predecessorTasks[count];\n            var ganttProp = ganttData.ganttProperties;\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttProp);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    // Get the root parent of the record\n    Dependency.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    Dependency.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (toData && fromData) {\n                    isValid = _this.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule &&\n                            _this.parent.editModule.cellEditModule && _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function () {\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection) {\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function () {\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = this.parent.flatData.length;\n        for (var count = 0; count < totLength; count++) {\n            if (flatData[count].ganttProperties.predecessorsName) {\n                this.validatePredecessorDates(flatData[count]);\n                var predecessorCollection = flatData[count].ganttProperties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var i = 0; i < predecessorCollection.length; i++) {\n                        var validateRecord = this.parent.getRecordByID(predecessorCollection[i].to);\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord);\n                        }\n                    }\n                }\n                if (flatData[count].hasChildRecords && flatData[count].ganttProperties.startDate\n                    && this.parent.allowParentDependency) {\n                    this.updateChildItems(flatData[count]);\n                }\n                if (flatData[count].parentItem) {\n                    var recordId = flatData[count].parentItem.taskId;\n                    this.traverseParents(this.parent.getRecordByID(recordId));\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function () {\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord) {\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord) {\n        if (this.parent.editedTaskBarItem === childGanttRecord || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection) {\n        var _this = this;\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            ganttRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneCurrentViewData'];\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                if (ganttRecords[count].parentItem) {\n                    var parentItem = this.parent.getRecordByID(ganttRecords[count].parentItem.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection) {\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor) {\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.validateChildGanttRecord(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor) {\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            connectorObj.rowHeight = !isNullOrUndefined(this.parent.ganttChartModule.getChartRows()) &&\n                this.parent.ganttChartModule.getChartRows()[0] &&\n                this.parent.ganttChartModule.getChartRows()[0].offsetHeight;\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine = '';\n        var ariaConnector = [];\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = connectorLine + this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        this.svgObject.innerHTML = connectorLine;\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function (data) {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (data.parentIndex * this.parent.rowHeight) > (data.childIndex * this.parent.rowHeight) ?\n                ((data.parentIndex * this.parent.rowHeight) - (data.childIndex * this.parent.rowHeight)) :\n                ((data.childIndex * this.parent.rowHeight) - (data.parentIndex * this.parent.rowHeight));\n        }\n        else {\n            return (data.parentIndex * data.rowHeight) > (data.childIndex * data.rowHeight) ?\n                ((data.parentIndex * data.rowHeight) - (data.childIndex * data.rowHeight)) :\n                ((data.childIndex * data.rowHeight) - (data.parentIndex * data.rowHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        var height = this.getHeightValue(data);\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var isVirtual = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = isVirtual ? connectorLine.height : (height + isMilestoneValue);\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n            if (!this.parent.enableVirtualization) {\n                heightValue = Math.abs(parentOverlapTopValue - childOverlapTopValue);\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n            }\n        }\n        if (this.getParentPosition(data)) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.setAttribute('style', \"stroke: \" + outlineColor);\n            this.arrowlinePath.setAttribute('style', \"fill: \" + outlineColor);\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            if (this.getParentPosition(data) === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = (this.parent.enableVirtualization ?\n                    rowPositionHeight : ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                    (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                        (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1 + (this.parent.renderBaseline ?\n                    (data.milestoneChild && !(data.milestoneParent) ? 11 :\n                        data.milestoneParent && !(data.milestoneChild) ? -12 : 0) : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FSType4') {\n                this.point1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 11 : 0) : 0);\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + this.y2 +\n                    ' L ' + this.x1 + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                    data.milestoneChild && !(data.milestoneParent) ? -13 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + 10) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = (data.milestoneChild ? 1 : 0) + (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -11 :\n                    data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + this.y2 + ' L ' + (this.x1 + this.x2) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    parentOverlapTopValue : (data.parentIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(data.milestoneParent) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 : data.milestoneChild && !(data.milestoneParent) ? -11 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth + (this.parent.renderBaseline ?\n                    (data.milestoneParent && !(data.milestoneChild) ? 10 :\n                        data.milestoneChild && !(data.milestoneParent) ? -12 : 0) : 0) - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2 + (data.milestoneChild ? 2 : 0) + (this.parent.renderBaseline ? (data.milestoneParent ? -5 : 0) : 0);\n                this.y2 = this.y1 + this.point1 + (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -9 :\n                    data.milestoneParent && !(data.milestoneChild) ? 9 : 0) : 0);\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3)) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3));\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = (this.parent.enableVirtualization ? rowPositionHeight : ((!this.parent.allowTaskbarOverlap ?\n                    childOverlapTopValue : (data.childIndex * data.rowHeight)) + addTop +\n                    this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1)));\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue +\n                    (this.parent.renderBaseline ? (data.milestoneChild && !(data.milestoneParent) ? -12 :\n                        data.milestoneParent && !(data.milestoneChild) ? 10 : 0) : 0);\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + this.y2 + ' L ' + (this.x3 + this.point1) + ' ' + this.y2;\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1) - isMilestoneValue));\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (this.getParentPosition(data) === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = (this.parent.enableVirtualization ? rowPositionHeight :\n                    ((!this.parent.allowTaskbarOverlap ? parentOverlapTopValue :\n                        (data.parentIndex * data.rowHeight)) + addTop +\n                        this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1)));\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1']) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject.outerHTML;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var isMilestoneParent = data.milestoneParent ? true : false;\n            var isMilestone = data.milestoneChild ? true : false;\n            var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n            var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n            var isParentIndex = data.parentIndexInCurrentView !== -1;\n            var isChildIndex = data.childIndexInCurrentView !== -1;\n            var lastRowIndex = this.parent.currentViewData.length - 1;\n            if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPointParent : (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n                type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n            else if (type === 'FSType3') {\n                topPosition = isChildIndex ? (data.childIndexInCurrentView * data.rowHeight) + midPointParent : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                    (data.parentIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPointParent;\n            }\n            else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n                topPosition = isParentIndex ? (data.parentIndexInCurrentView * data.rowHeight) + midPoint : 0;\n                lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                    (data.childIndexInCurrentView * data.rowHeight) + midPoint :\n                    (lastRowIndex * data.rowHeight) + midPoint;\n            }\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var innerTd = '<tr  id=\"fromPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('from') + '</td><td> ';\n        innerTd = innerTd + fromTaskName + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(fromPredecessorText) + ' </td> </tr>';\n        innerTd = innerTd + '<tr id=\"toPredecessor\"><td style=\"padding: 2px;\">' + this.parent.localeObj.getConstant('to') + '</td><td> ' + toTaskName;\n        innerTd = innerTd + ' </td><td style=\"padding: 2px;\"> ' + this.parent.localeObj.getConstant(toPredecessorText) + ' </td></tr></tbody><table>';\n        return innerTd;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else {\n            return this.parent.viewType === 'ResourceView' ? this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())] :\n                this.parent.flatData[this.parent.ids.indexOf(id.toString())];\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                _this.splitterObject.paneSettings[1].size = (_this.parent.ganttWidth - parseInt(_this.splitterPreviousPositionGrid, 10) - _this.parent.splitterSettings.separatorSize) + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td style=\"padding: 2px;\">:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td style=\"padding: 2px;\">:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td style=\"padding: 2px;\">:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'escape':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = ganttRow[0].getAttribute('data-rowindex');\n                        var lastRowIndex = ganttRow[ganttRow.length - 1].getAttribute('data-rowindex');\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                ganttObj.expandByIndex(selectedRowIndex_1);\n            }\n            else {\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedTaskBarItem = null;\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            escape: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                    this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                    for (var i = 0; i < this.singleTier; i++) {\n                        this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                    }\n                }\n                if (this.singleTier === 0) {\n                    this.singleTier = 2;\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor();\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors();\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor();\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n            this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterObject.paneSettings[1].size = (this.ganttWidth - parseInt(this.splitterModule.splitterPreviousPositionGrid, 10) - this.splitterSettings.separatorSize) + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if ((e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) ||\n            (e.target && e.action === 'escape' && this.treeGrid.grid.columnMenuModule &&\n                this.treeGrid.grid.columnMenuModule['columnMenu'].element.style.display === 'block')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     * @deprecated\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    if (this.isReact) {\n                        this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n                    }\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        this.chartVerticalLineContainer.innerHTML = containerDiv.innerHTML;\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n            }\n            if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.removePredecessor(ganttRecord);\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        var ganttRecord = this.getRecordByID(id.toString());\n        if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n            this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            rowIndex = getValue('rowIndex', chartRow);\n            record = this.currentViewData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work ||\n            field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 && dayEndTime !== 86400)) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td style=\"padding: 2px;\">:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML =\n                                this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (!isNullOrUndefined(currentRecord.ganttProperties.segments) && currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowProgressResizer = false;\n                    isShowConnectorPoints = false;\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record)\n                            : this.parent.flatData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.enableVirtualization ? this.parent.currentViewData.indexOf(record) :\n                        this.parent.flatData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', '');\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('data-rowindex') !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return data.getAttribute('data-rowindex') === target.getAttribute('data-rowindex');\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('data-rowindex'), 10)).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return data.getAttribute('data-rowindex') === chartRowElement_1.getAttribute('data-rowindex');\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('data-rowindex'), 10)];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('data-rowindex'), 10));\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                    _this.parent.showMaskRow();\n                }\n                else if (_this.parent.showIndicator) {\n                    _this.parent.showSpinner();\n                }\n                if (arg.cancel === false) {\n                    _this.taskBarEditingAction(event, false);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = closest(e.target, '.e-gantt-child-taskbar');\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.leftValue = 0;\n        this.previousLeftValue = 0;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if (this.parent.allowTaskbarDragAndDrop && this.dragMoveY > 0 && ((this.parent.viewType === 'ResourceView' &&\n            !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = parseInt(row.getAttribute('data-rowindex'), 10);\n                    droppedRecord = this.parent.flatData[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i--) {\n                            var segment_5 = __assign({}, segments[i]);\n                            if (!isNullOrUndefined(segment_5)) {\n                                var eDate_1 = new Date(segment_5.endDate);\n                                eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                                segment_5.endDate = eDate_1;\n                                segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                            }\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', '');\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (!arg.cancel) {\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        switch (column.editType) {\n            case 'booleanedit':\n                {\n                    var checkboxModel = {\n                        label: column.headerText,\n                        locale: locale,\n                        enableRtl: this.parent.enableRtl\n                    };\n                    fieldsModel[column.field] = checkboxModel;\n                    break;\n                }\n            case 'defaultedit':\n            case 'stringedit':\n                {\n                    var textBox = common;\n                    textBox.enableRtl = this.parent.enableRtl;\n                    if (column.field === ganttObj.columnMapping.duration ||\n                        column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        textBox.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                            else {\n                                _this.parent['triggeredColumnName'] = '';\n                            }\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                }\n            case 'numericedit':\n                {\n                    var numeric = common;\n                    numeric.enableRtl = this.parent.enableRtl;\n                    if (taskSettings.progress === column.field) {\n                        numeric.min = 0;\n                        numeric.max = 100;\n                    }\n                    numeric.change = function (args) {\n                        if (!_this.isTriggered) {\n                            if ((column.field === _this.parent.taskFields.duration ||\n                                column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                _this.isTriggered = true;\n                                _this.parent['triggeredColumnName'] = column.field;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        }\n                        else {\n                            _this.parent['triggeredColumnName'] = '';\n                        }\n                    };\n                    fieldsModel[column.field] = numeric;\n                    break;\n                }\n            case 'datepickeredit':\n                {\n                    var datePickerObj = common;\n                    datePickerObj.format = this.parent.getDateFormat();\n                    datePickerObj.enableRtl = this.parent.enableRtl;\n                    datePickerObj.strictMode = true;\n                    datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        datePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = datePickerObj;\n                    break;\n                }\n            case 'datetimepickeredit':\n                {\n                    var dateTimePickerObj = common;\n                    dateTimePickerObj.format = this.parent.getDateFormat();\n                    dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                    dateTimePickerObj.strictMode = true;\n                    dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                    if (column.field === ganttObj.columnMapping.startDate ||\n                        column.field === ganttObj.columnMapping.endDate) {\n                        dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                        dateTimePickerObj.change = function (args) {\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = dateTimePickerObj;\n                    break;\n                }\n            case 'dropdownedit':\n                if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                    var dataKey = 'dataSource';\n                    var fieldsKey = 'fields';\n                    var types = [\n                        { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                    ];\n                    common[dataKey] = types;\n                    common[fieldsKey] = { value: 'Value' };\n                    var dropDownListObj = common;\n                    dropDownListObj.enableRtl = this.parent.enableRtl;\n                    dropDownListObj.change = function (args) {\n                        if (column.field === taskSettings.manual) {\n                            _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                        }\n                        _this.validateScheduleFields(args, column, ganttObj);\n                    };\n                }\n                fieldsModel[column.field] = common;\n                break;\n            case 'maskededit':\n                fieldsModel[column.field] = common;\n                break;\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (this.parent.columnByField[key].visible === false) {\n                continue;\n            }\n            var column = this.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            if (this.parent.enableAdaptiveUI) {\n                tbody.appendChild(this.renderInputElements(inputModel, column));\n            }\n            else {\n                divElement.appendChild(this.renderInputElements(inputModel, column));\n            }\n            addFields.push(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) ||\n                        this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_2 = function (i) {\n                // eslint-disable-next-line\n                this_2.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_2 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_2(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.startDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.endDate);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, this.parent.taskFields.duration);\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.work);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, this.parent.taskFields.manual);\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var _this = this;\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        selectedItems.forEach(function (item) {\n            if (item[_this.parent.resourceFields.unit] === null) {\n                item[_this.parent.resourceFields.unit] = 0;\n            }\n        });\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idArray = [];\n        var lineArray = [];\n        var editedConnectorLineString = '';\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                    predecessor = predecessorsCollection[predecessorCount];\n                    var from = 'from';\n                    var to = 'to';\n                    this.parent.connectorLineModule.removeConnectorLineById('parent' + predecessor[from] + 'child' + predecessor[to]);\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[\"\" + to]);\n                    if ((!this.parent.allowParentDependency && (parentGanttRecord && parentGanttRecord.expanded === true) ||\n                        (childGanttRecord && childGanttRecord.expanded === true)) || (this.parent.allowParentDependency &&\n                        (parentGanttRecord || childGanttRecord))) {\n                        connectorObj =\n                            this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                        if (!isNullOrUndefined(connectorObj)) {\n                            var lineIndex = idArray.indexOf(connectorObj.connectorLineId);\n                            var lineString = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                            if (lineIndex !== -1) {\n                                lineArray[lineIndex] = lineString;\n                            }\n                            else {\n                                idArray.push(connectorObj.connectorLineId);\n                                lineArray.push(lineString);\n                            }\n                        }\n                    }\n                }\n                editedConnectorLineString = lineArray.join('');\n            }\n        }\n        return editedConnectorLineString;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorLineString = this.getEditedConnectorLineString(editedRecord);\n        this.parent.connectorLineModule.svgObject.innerHTML =\n            this.parent.connectorLineModule.svgObject.innerHTML + editedConnectorLineString;\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && (preArray[j].includes('days') || preArray[j].includes('day'))) {\n                    var splitName = preArray[j].split(/-(?=\\d)/);\n                    if (splitName.length > 0) {\n                        predecessorName = splitName[splitName.length - 1];\n                    }\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS - 1);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.parent.predecessorModule.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (validPredecessor_1.length === 0) {\n                    this.cumulativePredecessorChanges = [];\n                }\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getUid } from '@syncfusion/ej2-grids';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        this.parent.treeGridModule.currentEditRow = {};\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if ([tasks.startDate, tasks.endDate, tasks.duration].indexOf(key) !== -1) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                if (isFromDialog) {\n                    if (tasks.duration === key) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttData.ganttProperties);\n                        if (ganttData.ganttProperties.duration > 0 && ganttData.ganttProperties.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttData.ganttProperties, true);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttData.ganttProperties.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = ganttData.ganttProperties.endDate;\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttData.ganttProperties, true);\n                        if (ganttData[tasks.startDate] && !(ganttData[tasks.startDate] instanceof Date)) {\n                            ganttData[tasks.startDate] = new Date(ganttData[tasks.startDate]);\n                        }\n                        if (ganttData[tasks.endDate] && !(ganttData[tasks.endDate] instanceof Date)) {\n                            ganttData[tasks.endDate] = new Date(ganttData[tasks.endDate]);\n                        }\n                        ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                    }\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                if (key === tasks.id) {\n                    ganttPropKey = 'taskId';\n                }\n                else if (key === tasks.name) {\n                    ganttPropKey = 'taskName';\n                }\n                else if (key === tasks.cssClass) {\n                    ganttPropKey = 'cssClass';\n                }\n                else if (key === tasks.milestone) {\n                    ganttPropKey = 'isMilestone';\n                    if (!isNullOrUndefined(tasks.duration)) {\n                        var ganttProp = ganttData.ganttProperties;\n                        var durationValue = data[tasks.duration];\n                        if (value) {\n                            durationValue = 0;\n                        }\n                        else {\n                            durationValue = durationValue <= 0 ? 1 : durationValue;\n                        }\n                        ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                        ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                        ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                    }\n                }\n                else if ((key === tasks.segments) && (!isNullOrUndefined(ganttData.ganttProperties.segments))) {\n                    ganttPropKey = 'segments';\n                    /* eslint-disable-next-line */\n                    if (data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0\n                        && data['ganttProperties'] && data['ganttProperties'].segments) {\n                        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                            ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                        }\n                        var totDuration = 0;\n                        for (var i = 0; i < ganttData.ganttProperties.segments.length; i++) {\n                            totDuration = totDuration + ganttData.ganttProperties.segments[i].duration;\n                        }\n                        var sdate = ganttData.ganttProperties.startDate;\n                        /* eslint-disable-next-line */\n                        var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                        ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                    }\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][this.parent.taskFields.startDate]) {\n                                segment['startDate'] = value[i][this.parent.taskFields.startDate];\n                            }\n                            if (value[i][this.parent.taskFields.endDate]) {\n                                segment['endDate'] = value[i][this.parent.taskFields.endDate];\n                            }\n                            if (value[i][this.parent.taskFields.duration]) {\n                                segment['duration'] = parseFloat(value[i][this.parent.taskFields.duration]);\n                            }\n                            if (value[i][this.parent.taskFields.id]) {\n                                segment['id'] = value[i][this.parent.taskFields.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttData.ganttProperties.baselineStartDate, ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttData.ganttProperties.baselineEndDate);\n                    if (ganttData.ganttProperties.baselineEndDate && ganttData.ganttProperties.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttData.ganttProperties.baselineEndDate);\n                    }\n                    if ((ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate &&\n                        (ganttData.ganttProperties.baselineStartDate.getTime() > ganttData.ganttProperties.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttData.ganttProperties.baselineStartDate) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                            (ganttData.ganttProperties.baselineStartDate.getTime() === ganttData.ganttProperties.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttData.ganttProperties.baselineEndDate) &&\n                                !isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                                (ganttData.ganttProperties.baselineEndDate.toLocaleDateString() ===\n                                    ganttData.ganttProperties.endDate.toLocaleDateString())) &&\n                            ganttData.ganttProperties.isMilestone)) {\n                        ganttData.ganttProperties.baselineEndDate = ganttData.ganttProperties.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttData.ganttProperties.baselineEndDate), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttData.ganttProperties), ganttData.ganttProperties, true);\n                    if (ganttData[tasks.baselineStartDate] && !(ganttData[tasks.baselineStartDate] instanceof Date)) {\n                        ganttData[tasks.baselineStartDate] = new Date(ganttData[tasks.baselineStartDate]);\n                    }\n                    if (ganttData[tasks.baselineEndDate] && !(ganttData[tasks.baselineEndDate] instanceof Date)) {\n                        ganttData[tasks.baselineEndDate] = new Date(ganttData[tasks.baselineEndDate]);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && data['ganttProperties'] && data['ganttProperties'].segments) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                ganttObj.setRecordValue('taskType', data[key], ganttData.ganttProperties, true);\n                //this.parent.dataOperation.updateMappingData(ganttData, 'taskType');\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var previousdata = this.parent.previousRecords;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (!isNullOrUndefined(previousdata[ganttProp.uniqueID]) &&\n                        !isNullOrUndefined(previousdata[ganttProp.uniqueID].ganttProperties) &&\n                        (previousdata[ganttProp.uniqueID].ganttProperties.resourceNames\n                            === null ||\n                            previousdata[ganttProp.uniqueID].ganttProperties.resourceNames === '')) {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            var child = this.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                this.parent.editedTaskBarItem = child;\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                }\n                this.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedTaskBarItem = ganttRecord;\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            this.updateRowIndex();\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            if (!isNullOrUndefined(prevResource)) {\n                for (var i = 0; i < prevResource.length; i++) {\n                    var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                    if (prevResourceID === 'NaN') {\n                        prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                    }\n                    if (prevResourceID === resourceID) {\n                        recordIndex.push(i);\n                        break;\n                    }\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', getUid(this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.editedTaskBarItem = null;\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedTaskBarItem = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_2 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_2.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_2.parent.undoRedoModule && this_2.parent.undoRedoModule['isUndoRedoPerformed'] && this_2.parent.undoRedoModule['currentAction'] && this_2.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_2.parent.flatData[this_2.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_2.parent.flatData[this_2.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                if (!isNullOrUndefined(resourceParent)) {\n                    deleteRecords.push(resourceParent);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_2(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var _this = this;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                if (_this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var rec = void 0;\n                    if (_this.parent.viewType === 'ProjectView') {\n                        rec = _this.parent.getRecordByID(item.ganttProperties.taskId);\n                    }\n                    else {\n                        rec = _this.parent.flatData[_this.parent.taskIds.indexOf((item.hasChildRecords ? 'R' : 'T') + item.ganttProperties.taskId)];\n                    }\n                    rec.isDelete = true;\n                }\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_3 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_3.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_3.parent.viewType === 'ResourceView' && this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_3.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_3), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_3.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_3.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_3.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_3.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_3.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_3.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_3.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_3 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_3(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_4 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_4(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_5 = function (i) {\n                var unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_4.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_4.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_4.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_4.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_4.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_4.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_5(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    /**\n     *\n     * @returns {number | string} .\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        var newTaskId = maxId + 1;\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_6 = function (i) {\n            var originalData = this_5.parent.modifiedRecords[i];\n            var treeIndex = this_5.parent.rowDragAndDropModule && this_5.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_5.parent.taskFields.id;\n            var originalIndex = this_5.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_5.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_5.parent.treeGrid.grid.getRowObjectFromUID(this_5.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_5.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_5.parent.treeGrid.getRows()[originalIndex].cells[this_5.parent.treeColumnIndex + treeIndex],\n                    column: this_5.parent.treeGrid.grid.getColumns()[this_5.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_5.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_5.parent.treeGrid.getRows()[originalIndex], rowHeight: this_5.parent.rowHeight\n                });\n            }\n        };\n        var this_5 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_6(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_7 = function (i) {\n                addedRec = (this_6.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_6 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_7(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_8 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_8(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n            if (parentItem.childRecords.length === 0 && parentItem.hasChildRecords) {\n                parentItem.hasChildRecords = false;\n            }\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (!actionArg.cancel) {\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                ((!(this.filterMenuElement.contains(element)) && !this.parent.enableAdaptiveUI) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        /* eslint-disable-next-line */\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var gridPosTop = gridPos.top + window.scrollY;\n        var gridPosLeft = gridPos.left;\n        /* eslint-disable-next-line */\n        var parentNode;\n        var parentNodeTop;\n        var parentNodeLeft;\n        var paddingTop;\n        var paddingLeft;\n        var marginTop;\n        var isValid = true;\n        var marginLeft;\n        var isNonBodyTag = false;\n        if (!isNullOrUndefined(this.parent.element.parentNode) && this.parent.element.parentNode['tagName'] !== 'BODY') {\n            isNonBodyTag = true;\n            parentNode = this.parent.element.parentNode;\n            var topValue = Math.abs(parentNode.getBoundingClientRect().top);\n            parentNodeTop = topValue > window.scrollY ? topValue - window.scrollY : window.scrollY - topValue;\n            marginTop = parentNode.style.marginTop;\n            while (isValid) {\n                if (Math.abs(gridPosTop) > Math.abs(parentNodeTop)) {\n                    paddingTop = gridPosTop - parentNodeTop;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    if (parentNode.parentNode && parentNode.parentNode.style) {\n                        marginTop = parentNode.parentNode.style.marginTop;\n                    }\n                }\n                parentNodeTop = parentNode.getBoundingClientRect().top;\n            }\n            parentNodeLeft = parentNode.getBoundingClientRect().left;\n            marginLeft = parentNode.style.marginLeft;\n            while (isValid) {\n                if (Math.abs(gridPosLeft) > Math.abs(parentNodeLeft)) {\n                    paddingLeft = gridPosLeft - parentNodeLeft;\n                    break;\n                }\n                if (!isNullOrUndefined(this.parent.element.parentNode)) {\n                    if (parentNode.parentNode instanceof HTMLDocument) {\n                        break;\n                    }\n                    parentNode = parentNode.parentNode;\n                    marginLeft = parentNode.style.marginLeft;\n                }\n                parentNodeLeft = parentNode.getBoundingClientRect().left;\n            }\n        }\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var left = liPos.right + window.scrollX;\n        var top = isNonBodyTag ? liPos.top - gridPosTop : liPos.top + window.scrollY;\n        if (gridPos.right < (left + ul.offsetWidth)) {\n            if ((liPos.left - ul.offsetWidth) > gridPos.left) {\n                left = (liPos.left - ul.offsetWidth);\n            }\n            else {\n                left -= (left + ul.offsetWidth) - gridPos.right;\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(paddingTop) || !isNullOrUndefined(paddingLeft)) && isNonBodyTag) {\n                left = Math.abs(liPos.right - gridPos.left);\n                top = Math.abs(liPos.top - gridPos.top);\n            }\n        }\n        if (!isNullOrUndefined(paddingTop) && !isNullOrUndefined(paddingLeft)) {\n            ul.style.top = typeof (parseInt(marginTop, 10)) === 'string' ? (top + paddingTop + parseInt(marginTop, 10)) + 'px' : (top + paddingTop) + 'px';\n            ul.style.left = typeof (parseInt(marginLeft, 10)) === 'string' ? (left + paddingLeft + parseInt(marginLeft, 10) + 8) + 'px' : (left + paddingLeft) + 'px';\n        }\n        else {\n            ul.style.top = top + 'px';\n            ul.style.left = left + 'px';\n        }\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            if (targetElement) {\n                element.style.zIndex = targetElement.parentElement.style.zIndex;\n                if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                    this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n                }\n                else {\n                    this.setPosition(targetElement, getValue('filterModel.dialogObj.element', args));\n                }\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('data-rowindex'), 10) === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('data-rowindex'), 10);\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('data-rowindex'), 10) === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && ((this.selectedRowIndexes.length === 0 && this.parent.selectionSettings.mode === 'Row') ||\n                (this.getCellSelectedRecords().length === 0 && this.parent.selectionSettings.mode === 'Cell'))) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                e.target.classList.contains('e-row') ||\n                e.target.classList.contains('e-treegridexpand') ||\n                e.target.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        return item ? extend(item, item, itemObject) : itemObject;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        if (arg.item['properties'].id === this.parent.element.id + '_pdfexport' || arg.item['properties'].id === this.parent.element.id + '_critical-path') {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            this.holidayContainer.innerHTML = this.getHolidaysElement().innerHTML;\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        if (this.parent.highlightWeekends) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            this.weekendContainer.innerHTML = this.getWeekendElements().innerHTML;\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                var sDate = new Date(startDate);\n                var dubDate = new Date(startDate);\n                sDate.setDate(sDate.getDate() + 1);\n                var sDateOffset = sDate.getTimezoneOffset();\n                var dubDateOffset = dubDate.getTimezoneOffset();\n                if (!isFirstExecution) {\n                    var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                        this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                        (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                        (this.parent.timelineModule.topTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                            this.parent.timelineModule.bottomTier === 'Minutes' &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                    if (!this.weekendWidthUpdated) {\n                        if (isHourTimeline && sDateOffset < dubDateOffset) {\n                            width = width - (this.parent.perDayWidth / 24);\n                            this.weekendWidthUpdated = true;\n                        }\n                    }\n                }\n                else {\n                    isFirstExecution = false;\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData && fromTaskIdIndex !== -1) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    var data = [];\n                    data.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                    this.slackCalculation(data, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate && record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction'], i > 0 ? true : false);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        if (this.parent.viewType === 'ResourceView' && this.rowData.parentItem\n                            && data[this.parent.taskFields.resourceInfo]) {\n                            var parentItem_1 = this.parent.getParentTask(this.rowData.parentItem);\n                            var resourceFieldId_1 = this.parent.resourceFields.id;\n                            var taskResources = this.rowData.taskData[this.parent.taskFields.resourceInfo];\n                            var matchingResource = taskResources.find(function (resource) {\n                                return resource[resourceFieldId_1] === parentItem_1.ganttProperties.taskId;\n                            });\n                            data[this.parent.taskFields.resourceInfo] = matchingResource ? [matchingResource] : [];\n                        }\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        var duration = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                        data[taskfields.duration] = duration;\n                        this.parent.setRecordValue('duration', duration, this.rowData.ganttProperties, true);\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        this.parent.dataOperation.updateWorkWithDuration(this.rowData);\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = this.rowData.ganttProperties.work;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n            _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n            if (eventArgs.cancel === false) {\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('data-rowindex'), 0);\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('data-rowindex'), 0);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.updatedRecords[parseInt(rowIndex.toString(), 10)];\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].hasChildRecords ||\n                            (this.parent.currentViewData[parseInt(rowIndex.toString(), 10)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.showMaskRow();\n            }\n            else {\n                _this.parent.showSpinner();\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, classList, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-ganttdrag')[0];\n        var errorelem = dragelem.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            var errorVal = dragelem.querySelector('.errorValue');\n            var content = dragelem.querySelector('.e-rowcell').innerHTML;\n            if (errorVal) {\n                content = errorVal.innerHTML;\n                errorVal.parentNode.removeChild(errorVal);\n            }\n            dragelem.querySelector('.e-rowcell').innerHTML = '';\n            var spanContent = document.createElement('span');\n            spanContent.className = 'errorValue';\n            spanContent.style.paddingLeft = '16px';\n            spanContent.innerHTML = content;\n            dragelem.querySelector('.e-rowcell').appendChild(ele);\n            dragelem.querySelector('.e-rowcell').appendChild(spanContent);\n        }\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('data-rowindex'), 10) : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            if (!args.cancel) {\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.hideMaskRow();\n                }\n                else {\n                    this.parent.hideSpinner();\n                }\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.predecessorModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfFontFamily, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(206, 206, 206);\n        ganttStyle.timeline.borderColor = new PdfColor(206, 206, 206);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        if (isNullOrUndefined(param)) {\n            throw Error('Argument Null Expection');\n        }\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        else {\n            throw Error('Please add row or header into grid');\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                cellWidths = (endColumn <= i) ? this.treegrid.columns.getColumn(i).width : 0;\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (!isNullOrUndefined(cell.value)) {\n                    if (column.isTreeColumn) {\n                        leftAdjustment = (row.level) * 10;\n                    }\n                    var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                    if (!cancelSpans) {\n                        for (var j = 1; j < cell.columnSpan; j++) {\n                            row.cells.getCell(i + j).isCellMergeContinue = true;\n                        }\n                    }\n                    var size = new SizeF(column.width, height);\n                    if (cell.columnSpan > 1) {\n                        size = new SizeF(cell.width, height);\n                        i += cell.columnSpan;\n                    }\n                    if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                        cell.style.format = column.format;\n                    }\n                    cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                    /* eslint-disable-next-line */\n                    if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    location_1.x += column.width;\n                    leftAdjustment = 0;\n                }\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment) + (!isNullOrUndefined(this.image) ? this.image.width : 0), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        if (this.parent.treeColumnIndex === index) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection();\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = data.parentIndex;\n                predecessor.childIndex = data.childIndex;\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            taskbar.rightTaskLabel.left = ganttProp.left + ganttProp.width + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        if (row.cells.count === 0) {\n            row.cells.add();\n        }\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n        }\n        cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n            var graphics = page.graphics;\n            var pen = new PdfPen(new PdfColor(206, 206, 206));\n            if (page['contentWidth'] && (this.parent.gridLines === \"Both\" || this.parent.gridLines === \"Horizontal\")) {\n                graphics.drawRectangle(pen, startPoint.x, startPoint.y, this.isAutoFit() && this.parent.timelineModule.bottomTier !== \"Day\" ? page['contentWidth'] + 0.5 : lineWidth, rowHeight);\n            }\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize\n            ? new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle)\n            : font;\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontColor) {\n            taskLabelFontBrush = new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor);\n        }\n        else {\n            taskLabelFontBrush = fontBrush;\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.value || template.image) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.value || template.image) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result_1 = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_1.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_1.remainder)) {\n                                        this.remainString = result_1.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result_2 = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_2.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result_2.remainder)) {\n                                        this.remainString = result_2.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.value || template.image) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(this.remainString)) {\n                        var result = this.getWidth(this.remainString, taskbar.width - taskbar.left, 15);\n                        taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left), (startPoint.y + adjustHeight_1), result.actualSize.width, pixelToPoint(this.height), progressFormat);\n                    }\n                }\n                if (this.isScheduledTask && taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                if (!isNullOrUndefined(this.remainString)) {\n                                    var result_3 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result_3.lines[0].text, font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), font, fontColor, fontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.value || template.image) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result_4 = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result_4.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_5 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_5.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_6 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_6.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (ganttStyle && ganttStyle.label && ganttStyle.label.fontSize) {\n            font = new PdfStandardFont(this.fontFamily, ganttStyle.label.fontSize);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfBrushes, RectangleF } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail) {\n        this.detailsTimeline = detail;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail) {\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var rectPen;\n        var rectBrush = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                rectBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = day / width;\n                    _this.holidayCompleted = true;\n                }\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var rectPen1 = new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        graphics.drawRectangle(rectPen1, rectBrush, x, y, width, pixelToPoint(height));\n        if (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) {\n            rectPen = new PdfPen(ganttStyle.chartGridLineColor);\n        }\n        else {\n            rectPen = null;\n        }\n        graphics.drawRectangle(rectPen, rectBrush, x, y + pixelToPoint(height), width, page.getClientSize().height);\n        if (this.holidayCompleted) {\n            var state_1 = graphics.save();\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var holidayBrush = new PdfSolidBrush(new PdfColor(238, 238, 238));\n            var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n            if (ganttStyle.font) {\n                font1 = ganttStyle.font;\n            }\n            var fontSize = font1.size;\n            graphics.drawRectangle(null, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, page.getClientSize().height);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(page.getClientSize().height / 2), -40);\n            graphics.drawString(this.holidayLabel, font1, null, PdfBrushes.Black, 10, 10, null);\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + 4;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    PdfGanttPredecessor.prototype.findindex = function (num) {\n        var dataindex;\n        if (!this.parent.enableVirtualization) {\n            this.parent.currentViewData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n        else {\n            this.parent.flatData.map(function (data, index) { if (data.index === num) {\n                dataindex = index;\n            } });\n            return dataindex;\n        }\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.findindex(this.parentIndex)];\n        var childTask = pdfGantt.taskbarCollection[this.findindex(this.childIndex)];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        switch (this.type) {\n            case 'FS':\n                if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType1';\n                        }\n                        else {\n                            predecessorType = 'FSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                            predecessorType = 'FSType3';\n                        }\n                        else {\n                            predecessorType = 'FSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SF':\n                if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType1';\n                        }\n                        else {\n                            predecessorType = 'SFType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft > this.childLeft + this.childWidth) {\n                            predecessorType = 'SFType3';\n                        }\n                        else {\n                            predecessorType = 'SFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'FF':\n                if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                    startPage = pages[parentTask.endPage];\n                    endPage = pages[childTask.endPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType1';\n                        }\n                        else {\n                            predecessorType = 'FFType2';\n                        }\n                    }\n                    else {\n                        if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                            predecessorType = 'FFType3';\n                        }\n                        else {\n                            predecessorType = 'FFType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n            case 'SS':\n                if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                    startPage = pages[parentTask.startPage];\n                    endPage = pages[childTask.startPage];\n                    parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                    childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                    if (this.parentIndex < this.childIndex) {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType1';\n                        }\n                        else {\n                            predecessorType = 'SSType2';\n                        }\n                    }\n                    else {\n                        if (this.parentLeft >= this.childLeft) {\n                            predecessorType = 'SSType3';\n                        }\n                        else {\n                            predecessorType = 'SSType4';\n                        }\n                    }\n                }\n                else {\n                    return;\n                }\n                break;\n        }\n        var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n        var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n        var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n        var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n            ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                midPointManualparent : midPointforTaskbar;\n        midPoint = pixelToPoint(midPoint);\n        /* eslint-disable-next-line */\n        var point1, point2, point3, point4, point5, point6;\n        point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n        var parentTaskpoint = __assign({}, parentTask.taskStartPoint);\n        var childTaskpoint = __assign({}, childTask.taskStartPoint);\n        parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n        childY = childTaskpoint.y + childPageData.startPoint.y;\n        var ffpoint1;\n        var sspoint1;\n        var ffpoint3;\n        var ffpoint4;\n        var sspoint4;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        else {\n            ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n            sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n            ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n            ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n            sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n        }\n        switch (predecessorType) {\n            case 'FSType1':\n            case 'FSType3':\n                point1 = ffpoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = ffpoint3;\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FSType2':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, childY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), childY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FSType4':\n                point1 = ffpoint1;\n                point2 = new PointF(point1.x + 10, parentY + midPoint);\n                point3 = new PointF(point1.x + 10, parentY + 2);\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point4 = new PointF((this.childLeft - 20), parentY + 2);\n                }\n                else {\n                    point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                }\n                point5 = ffpoint3;\n                point6 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'FFType1':\n            case 'FFType3':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'FFType2':\n            case 'FFType4':\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                    point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType1':\n            case 'SSType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SSType2':\n            case 'SSType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = ffpoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType1':\n            case 'SFType3':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                }\n                point3 = new PointF(point2.x, childY + midPoint);\n                point4 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                break;\n            case 'SFType2':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                }\n                point3 = new PointF(point2.x, childY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n            case 'SFType4':\n                point1 = sspoint1;\n                if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                    point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                else {\n                    point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                }\n                point3 = new PointF(point2.x, parentY + 2);\n                point5 = new PointF(point4.x, childY + midPoint);\n                point6 = sspoint4;\n                this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                break;\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = __assign({}, endPoint);\n        var newStartPoint = __assign({}, endPoint);\n        var checkStartPoint = __assign({}, endPoint);\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        graphics.drawLine(predecessorPen, point1, point2);\n        graphics.drawLine(predecessorPen, point2, point3);\n        graphics.drawLine(predecessorPen, point3, point1);\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfDashStyle, PdfBrushes } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = new PdfPen(new PdfColor(0, 0, 0));\n        eventLine.dashStyle = PdfDashStyle.Dash;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var eventBrush = new PdfSolidBrush(new PdfColor(253, 191, 100));\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x +\n                        (left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, pageSize.height));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    taskGraphics.save();\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                    taskGraphics.rotateTransform(45);\n                    taskGraphics.drawRectangle(null, eventBrush, 0, 0, triangle, triangle);\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                    taskGraphics.drawString(eventMarker.label, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff, cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2), strSize.width, strSize.height, enventFormat);\n                }\n            }\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays1 = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setHours(detail.startDate.getHours() + sDays1 * count);\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays1 = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setHours(detail.endDate.getHours() + eDays1 * count);\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = (Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth)));\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        var endDays = Math.round(((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth))) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(startdate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays * count);\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n            });\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.showMaskRow();\n        }\n        else {\n            this.parent.showSpinner();\n        }\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = this.parent.updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isEmptyObject","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","date","validateAsMilestone","isLoad","currentDay","Date","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","getDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","getMilliseconds","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","getHours","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","getSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","day","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","seconds","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","getMonth","getFullYear","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","getMinutes","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","taskSettings","progress","notes","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","fetchResources","ganttResources","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","isOnEdit","childCompletedWorks","taskType","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","zoomOrTimeline","countValue","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","test","isInDst","totalWidth","sOffset","eOffset","getDSTTransitions","year","findLastSunday","month","lastDayOfMonth","UTC","getUTCDate","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","hasDSTTransition","january","july","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","taskBarEditAction","ganttChartModule","scrollObject","enableTimelineVirtualization","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","hasDST","transitions","systemTimeZone","newTimelineStartDate","newDate","setStartDate","timelineStartTime","dstStartTime","isBeforeOrAtDSTStart","unitHour","pervYear","isprevYearTransitions","isHourly","isDaily","isStartDateInDst","isTimelineStartDateInDst","perHourWidth","yearsCount_1","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","cStartDate","cEndDate","range","tEndDate","rangeObj_1","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","end","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","start","isInSplit","rangeObj","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","resolvedOptions","shouldProcessUpdateWidth","Boolean","isLastChild","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_4","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","enableVirtualization","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","abs","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getRangeHeight","topValue","rowIndex","enableMultiTaskbar","offsetTop","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","isAdaptive","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","cls.chartRow","__assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","performedTimeSpanAction","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","isReact","updateUndoRedo","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","getZoomLevel","updateToolbar","zoomingLevels","findIndex","tempLevel","newTimeline","timeline","changeTimelineSettings","previousTimeline","previousZoomingLevel","find","enableItems","controlId","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","zoomingLevel","firstValue","secondValue","totalDays","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","timelineUnitSize","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dateString","formatDate","locale","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","WidthForVirtualTable","timelineCell","getHeaterTemplateString","calculateQuarterEndDate","getIncrement","dubStartDate","dubStartHour","tierCollection","weekendEndDate","updateTimelineAfterZooming","resized","totWidth","contentWidth","widthDiff","getTimelineRoundOffEndDate","firstDay","lastDay","dayIntervel","checkDate","diffCount","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","incrementValue","dubNewDate","newDateOffset","dubNewDateOffset","incrementHour","perMinuteWidth","bottomTierSettings","bottomTierCountIsOneAndUnitIsHour","value_1","topTierCellWidth","bottomTierCellWidth","cellWidth","isWeekendCell","textClassName","getTemplateID","weekendClass","th","weekendBackground","title","showTooltip","textContent","append","isWeekend","bottomTierCount","topTierCount","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsedArgs","expandedArgs","updateKeyConfigSettings","recordOne","updatedArgs","sortSettings","deleteObject","currentEditRow","initiateCellEdit","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","initiateEditAction","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","taskBaselineTemplateNode","handleTouchMove","event","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","calculateLeftValue","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","getRowClassName","getExpandDisplayProp","parentTaskbarTemplate","taskbarTemplate","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentRecord","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","getRootParent","parentUniqueID","validateParentPredecessor","fromRecord","toRecord","predecessorValue","offsetValue","predecessorText","parentRecords","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","pop","substring","lastIndex","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","validatePredecessorDates","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedTaskBarItem","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","ganttProp_1","childRec","updateOffsetOnTaskbarEdit","isFirstCall","taskIdsForView","JSON","parse","stringify","idAsString","concat","validUpdate","validatedChildItems","previousData","previousRecords","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","parentIndex","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","isMilestoneParent","isVirtual","getPosition","rowPositionHeight","isMilestoneValue","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","midPointParent","midPoint","isParentIndex","isChildIndex","lastRowIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","innerTd","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterSettings","splitterElement","splitterObject","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","view","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","getTooltipContent","tooltipSettings","taskbar","taskbarTemplateNode","tooltipTemplate","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","startDate_1","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","HTMLElement","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","hours","minutes","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","splitterModule","keyConfig","home","saveRequest","escape","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","tbody","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","columnMenuModule","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","properties","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","get","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","nonWorkingDays","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","startIndex","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","predecessorArray","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","every","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","lineArray","editedConnectorLineString","lineIndex","lineString","idFromPredecessor","preArray","preIdArray","strArray","splitName","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_5","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttPropKey","totDuration","sdate","edate","seg","validateScheduleValues","previousdata","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","unModifiedData","eventArg","ganttProps","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","targetData","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","parentNodeTop","parentNodeLeft","gridPos","gridPosTop","gridPosLeft","isNonBodyTag","HTMLDocument","liPos","scrollX","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","Toolbar","predefinedItems","propertyChanged","headerModule","offsetParent","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","enddate","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","previousRecord","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","parentItem_1","resourceFieldId_1","matchingResource","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","PdfPen","dashStyle","PdfDashStyle","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","currentBounds","RectangleF","layoutInternal","param","Error","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","default","getLayoutResult","NextPage","reArrangePages","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","padding","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","lineWidth","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","pageNumber","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","taskGraphics","isNextPage","endPoint","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","progressFormat","updatedWidth","isLabelString","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","result_1","getWidth","lines","remainder","remainString","progressBoundsWidth","result_2","lineStartX","lineEndX","lineY","result_3","result_4","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","getPdfFont","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_5","result_6","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","fitHolidayCompleted","lastWidth","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","currentDate","timelineStyle","pdfQueryTimelineCellInfo","rectPen","rectBrush","timelinedate","holidayWidth","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","rectPen1","font1","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","findindex","dataindex","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","eventMarker","cumulativeHeight","eventLine","Dash","enventFormat","eventBrush","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","sDays1","eDays1","startDays","endDays","startdate","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","exportType","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}